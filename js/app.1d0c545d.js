(function(t){function e(e){for(var r,o,u=e[0],i=e[1],l=e[2],p=0,f=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);s&&s(e);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(r=!1)}r&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},c=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/vue-parking/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var s=i;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,c,o){var u=Object(r["k"])("Parking");return Object(r["g"])(),Object(r["c"])(u)}n("fb6a"),n("b0c0");Object(r["i"])("data-v-761aa6d1");var c={key:0},o=["href"],u=Object(r["e"])("span",{class:"link-spanner"},null,-1),i=[u],l={key:1},s=Object(r["e"])("h3",null,"Loading..",-1),p=[s];function f(t,e,n,a,u,s){return Object(r["g"])(),Object(r["d"])(r["a"],null,[Object(r["e"])("h1",null,Object(r["l"])(u.title),1),u.parkingList?(Object(r["g"])(),Object(r["d"])("div",c,[Object(r["e"])("ul",null,[(Object(r["g"])(!0),Object(r["d"])(r["a"],null,Object(r["j"])(u.parkingList.slice(0,10),(function(t){return Object(r["g"])(),Object(r["d"])("li",null,[Object(r["e"])("div",{class:Object(r["f"])(["slot",t.availability])},[Object(r["e"])("h3",null,Object(r["l"])(t.name),1),Object(r["e"])("a",{href:s.wazeURL(t.location)},i,8,o),Object(r["e"])("p",null,Object(r["l"])(t.time),1),Object(r["e"])("p",null,Object(r["l"])(t.status),1)],2)])})),256))])])):(Object(r["g"])(),Object(r["d"])("div",l,p))],64)}Object(r["h"])();var b=n("3835"),d=n("1da1"),h=(n("96cf"),n("4057"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("7db0"),n("4de4"),n("4e82"),n("3eed"),{lat:32.0873,lon:34.7737}),v="אסותא";function j(t){return t.Name===v?h:{lat:t.GPSLattitude,lon:t.GPSLongitude}}function O(t){var e=new Date(t),n=("0"+e.getHours()).slice(-2),r=("0"+e.getMinutes()).slice(-2);return n+":"+r}function g(t){switch(t){case"פנוי":return"free";case"מעט":return"almostFull";case"מלא":case"סגור":return"full"}return"NA"}function m(t,e){return Math.hypot(e.lat-t.lat,e.lon-t.lon)}var y="https://api.tel-aviv.gov.il/parking/stations",w="https://api.tel-aviv.gov.il/parking/StationsStatus";function k(){return x.apply(this,arguments)}function x(){return x=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([P(w),P(y)]);case 2:return e=t.sent,n=Object(b["a"])(e,2),r=n[0],a=n[1],c=r.map((function(t){var e={},n=a.find((function(e){return e.AhuzotCode===t.AhuzotCode}));return e.name=t.Name,e.time=O(t.LastUpdateFromDambach),e.status=t.InformationToShow,e.availability=g(t.InformationToShow),e.location=j(n),e})),c=c.filter((function(t){return"NA"!==t.availability})),c.sort((function(t,e){return m(h,t.location)>m(h,e.location)?1:-1})),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}function P(t){return S.apply(this,arguments)}function S(){return S=Object(d["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=5,t.next=3,L(e,n);case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}var L=function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(r=t.sent,r.ok){t.next=10;break}if(console.log(r),1!==n){t.next=7;break}throw"can't fatch";case 7:return t.next=9,L(e,n-1);case 9:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var R={name:"Parking",data:function(){return{title:"Near Home Parking:",parkingList:null,test:"https://waze.com/ul?ll=32.0885092,34.7799810&navigate=yes"}},methods:{wazeURL:function(t){return"https://waze.com/ul?ll="+t.lat+","+t.lon+"&navigate=yes"}},mounted:function(){var t=this;k().then((function(e){return t.parkingList=e})).catch((function(t){console.error("Error!"),console.log(t)}))}};n("e806");R.render=f,R.__scopeId="data-v-761aa6d1";var _=R,z={name:"App",components:{Parking:_}};n("d29d");z.render=a;var M=z;Object(r["b"])(M).mount("#app")},9414:function(t,e,n){},cc4f:function(t,e,n){},d29d:function(t,e,n){"use strict";n("9414")},e806:function(t,e,n){"use strict";n("cc4f")}});
//# sourceMappingURL=app.1d0c545d.js.map